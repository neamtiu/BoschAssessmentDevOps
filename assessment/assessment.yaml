---

- name: Assessment playbook
  hosts: assessmentserver
  tasks:

    - name: Install wget
      yum:
        name: wget
        state: present

    - name: Install yum-utils
      yum:
        name: yum-utils
        state: present
    
    - name: Install Python
      yum:
        name: python3
        state: present

    - name: Install Python-pip
      yum:
        name: python3-pip
        state: present

    - name: Install required python packages
      pip:
        name:
          - docker
          - docker-compose

    - name: Get Docker repository
      command: "yum-config-manager --add-repo https://download.docker.com/linux/centos/docker-ce.repo"
      
    - name: Install Docker
      yum:
        name:
          - docker-ce
          - docker-ce-cli
          - containerd.io

    - name: Start Docker
      service:
       name: docker
       state: started
       enabled: yes
       